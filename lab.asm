; << Generated by NadLabem >>
; the opensource brandejs-to-assembly compiler

cpu 8086
segment code
..start mov bx, data
        mov ds, bx
        mov bx, stack
        mov ss, bx
        mov sp, dno
        mov bp, sp

        mov ax, 4             ;int a = myfun(4) (5)
        push ax
        call myfun
        mov ax, dx
        mov word[a], ax
        hlt 

myfun:
        push bp               ;def int myfun(int x){ (1)
        mov bp, sp
        sub sp, 0

        mov ax, 3             ;    return 3 + 2 * x (2)
        push ax
        mov ax, 2
        push ax
        mov ax, word[bp + 4]
        mov bx, ax
        pop ax
        mul bx
        mov bx, ax
        pop ax
        add ax, bx
        mov dx, ax
        jmp rtn
rtn     mov sp, bp
        pop bp
        ret 

segment data
stack   resw 1024
dno     db ?

a       dw ?
